abort "jaxb2ruby must be ran using JRuby" unless RUBY_PLATFORM == "java"

require "optparse"
require "jaxb2ruby"

# -t [TYPEMAP]
options = {}
parser = "" #optparse
schema = parser.parse!(ARGV);
abort parser.usage if schema.empty?

begin 
  cmd = JAXB2Ruby::Converter.new(schema, options)
  cmd.run
rescue => e
  abort "class generation failed: #{e}"
end

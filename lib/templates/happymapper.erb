#
# Auto-generated by jaxb2ruby v<%= VERSION %> on <%= Time.now %>
# https://github.com/sshaw/jaxb2ruby
#
<%- require "templates/util/happymapper" -%>

require "happymapper"
<%- @class.requires.each do |mod| -%>
require "<%= mod %>"
<%- end -%>

<%= @class.module.map { |mod| "module #{mod}" }.join " " %>

class <%= @class.name %> <%= "< #{@class.superclass}" if @class.superclass %>
  include HappyMapper

  <%- if @class.element.namespace -%>
    namespace "<%= @class.element.namespace %>"
  <%- end -%>

  tag "<%= @class.element.name %>"

  <%- @class.element.children.each do |e| -%>
    <% next if e.type == :ID || e.type == :IDREF %>
    <%= accessor_method(e) %> :<%= e.accessor %>, <%= type_name(e) %>, :tag => "<%= e.name %>"<%= %|, :namespace => "#{e.namespace}"| unless e.namespace.to_s.empty? %>
  <%- end -%>

  <%- if @class.element.text? -%>
    content :content
  <%- end -%>

  <% @class.element.attributes.each do |attr| %>
      attribute :<%= attr.accessor %>, <%= attr.type == :boolean ? "Boolean" : attr.type %>, :tag => "@<%= attr.name %>"
  <% end %>
end

<%= @class.module.map { "end" }.join " " %>
